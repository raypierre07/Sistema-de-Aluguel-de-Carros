<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Cadastro de Pedido de Aluguel</title>
    <link rel="stylesheet" href="/stylesheets/pedido-aluguel.css">
</head>
<body>
<!-- Cabeçalho -->
<header>
    <div class="logo">
        <h1>AlugaCar</h1>
    </div>
    <nav>
        <ul>
            <li><a href="/dashboard">Dashboard</a></li>
            <li><a href="/pedidos">Pedidos</a></li>
            <li><a href="/perfil">Perfil</a></li>
            <li><a href="/suporte">Suporte</a></li>
        </ul>
    </nav>
</header>

<main>
    <h2>Cadastro de Pedido de Aluguel</h2>
    <form action="/fazerPedido" method="POST">
        <!-- Campo oculto para o ID do cliente -->
        <input type="hidden" name="clientId" value="{{clientId}}">

        <!-- Seleção do carro disponível -->
        <label for="carro">Selecione o Carro:</label>
        <select name="carro_matricula" id="carro" required>
            <option value="">Selecione um carro</option>
            {{#each cars}}
                <option value="{{this.matricula}}">{{this.marca}} - {{this.modelo}} ({{this.ano}})</option>
            {{/each}}
        </select>

        <!-- Data de Início -->
        <label for="data_inicio">Data de Início (YYYY-MM-DD):</label>
        <input type="date" id="data_inicio" name="data_inicio" pattern="\d{4}-\d{2}-\d{2}" required>

        <!-- Data de Fim -->
        <label for="data_fim">Data de Fim (YYYY-MM-DD):</label>
        <input type="date" id="data_fim" name="data_fim" pattern="\d{4}-\d{2}-\d{2}" required>

        <button type="submit">Fazer Pedido</button>
    </form>

    <!-- Lista de pedidos do cliente -->
    <h2>Seus Pedidos</h2>
    <table>
        <thead>
            <tr>
                <th>ID do Pedido</th>
                <th>Carro</th>
                <th>Data Início</th>
                <th>Data Fim</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            {{#each pedidos}}
            <tr>
                <td>{{this.id}}</td>
                <td>{{this.carro.marca}} - {{this.carro.modelo}} ({{this.carro.matricula}})</td>
                <td>{{this.data_inicio}}</td>
                <td>{{this.data_fim}}</td>
                <td>{{this.status}}</td>
            </tr>
            {{/each}}
        </tbody>
    </table>
</main>

<footer>
    <p>© 2025 AlugaCar. Todos os direitos reservados.</p>
</footer>
</body>
</html>
